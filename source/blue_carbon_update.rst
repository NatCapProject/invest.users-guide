.. _coastal-blue-carbon:

*******************
Coastal Blue Carbon
*******************

Summary
=======


Introduction
============


The Model
=========

Modeling Considerations
-----------------------


How it Works
------------


Limitations and Simplifications
===============================


Data Needs
==========


Running the Model (UPDATED)
===========================

Coastal Blue Carbon Preprocessor
--------------------------------

Overview
~~~~~~~~

The preprocessor is used to detect which land-cover types transition to other land-cover types between snapshots and the direction in which carbon transfer occurs.  The output of the preprocessor is a land-cover transition matrix with prepopulated values indicting whether carbon is being sequestered or emitted into the atmosphere.

Land Cover Transition Types:

* Carbon Accumulation
  * Other LULC-Class --> CBC-Habitat
  * CBC-Habitat --> CBC-Habitat
* Carbon Disturbance
  * CBC-Habitat --> Other LULC-Class
* Unchanged
  * Other LULC-Class --> Other LULC-Class

Inputs
~~~~~~

1. **Workspace Folder**:  The selected folder is used as the workspace where all intermediate and final output files will be written.  If the selected folder does not exist, it will be created.  If datasets already exist in the selected folder, they will be overwritten.

2. **Results Suffix (Optional)**:  This text will be appended to the end of the yield function output folders to help seperate outputs from multiple runs.  Please see the `Interpreting Results`_ section for an example folder structure for outputs.

3. **Land-Cover Lookup Table (CSV)**:  A CSV table used to map lulc-classes to their values in a raster, as well as to indicate whether the lulc-class is a coastal blue carbon habitat.

 ==========  =====  ==============================
 lulc-class  code   is_coastal_blue_carbon_habitat
 ==========  =====  ==============================
 <str>       <int>  <bool>
 ...         ...    ...
 ==========  =====  ==============================

4. **Land-Use/Land-Cover Snapshots (Rasters)**:  A set of GDAL-supported rasters representing the land-cover scenario at a particular year.  Provided in sequential order.

  +---+---+
  |int|int|
  +---+---+
  |int|int|
  +---+---+


Outputs
~~~~~~~

**Output Folder Structure**

.. code::

  .
  |-- outputs
      |-- transitions.csv

**Outputs**

1. **Land-Use/Land-Cover Transition Effect on Carbon Emissions (CSV)**: This transition matrix describes the direct and rate at which carbon-dioxide moves. The top row represents the source lulc-class, and the left-most column represents the destination lulc-class. Depending on the transition type, a cell will be prepopulated with one of the following: (empty), 'unchanged', 'accumulation', 'disturbance'. It is up to the user to edit the 'disturbance' cells with the degree to which distance occurs due to the change.  This is done by changing 'disturbance' to either 'low-disturbance', 'medium-disturbance', or 'high-disturbance'.

 ==========  =======  =======  ===
 lulc-class  <lulc1>  <lulc2>  ...
 ==========  =======  =======  ===
 <lulc1>     <str>    <str>    ...
 <lulc2>     <str>    <str>    ...
 ...         ...      ...      ...
 ==========  =======  =======  ===


Coastal Blue Carbon Model
-------------------------

**Workspace Folder**:  The selected folder is used as the workspace where all intermediate and final output files will be written.  If the selected folder does not exist, it will be created.  If datasets already exist in the selected folder, they will be overwritten.

**Results Suffix (Optional)**:  This text will be appended to the end of the yield function output folders to help seperate outputs from multiple runs.  Please see the `Interpreting Results`_ section for an example folder structure for outputs.

**Land-Cover Lookup Table (CSV)**:  A CSV table used to map each lulc-class to a land cover habitat 

 ==========  =====  ==============================
 lulc-class  code   is_coastal_blue_carbon_habitat
 ==========  =====  ==============================
 <str>       <int>  <bool>
 ...         ...    ...
 ==========  =====  ==============================

**Land-Use/Land-Cover Snapshots (Rasters)**:  A set of GDAL-supported rasters representing the land-cover scenario at a particular year.  Provided in sequential order.

**Land-Use/Land-Cover Snapshot Years**

**Analysis Year**

**Land-Use/Land-Cover Transition Effect on Carbon Emissions (CSV)**: Generated by the preprocessor.  This file must be edited before it can be used by the main model.  The top row represents the source lulc-class, and the left-most column represents the destination lulc-class.

 ==========  =======  =======  ===
 lulc-class  <lulc1>  <lulc2>  ...
 ==========  =======  =======  ===
 <lulc1>     <str>    <str>    ...
 <lulc2>     <str>    <str>    ...
 ...         ...      ...      ...
 ==========  =======  =======  ===

**Carbon Pool Initial Conditions Table (CSV)**: The provided CSV table contains information related to the initial conditions of the carbon stock within each of the three pools of a habitat. Biomass includes carbon stored above and below ground.  All non-coastal blue carbon habitat lulc classes are assumed to contain no carbon.

 ==========  =======  =======  =======
 lulc-class  biomass  soil     litter
 ==========  =======  =======  =======
 <str>       <float>  <float>  <float>
 ...         ...      ...      ...
 ==========  =======  =======  =======

**Table of Transient Variables for Carbon Accumulation/Disturbance (CSV)**: The provided CSV table contains information related to carbon transfer.  All non-coastal blue carbon habitat lulc classes are assumed to neither sequester nor emit carbon as a result of change.

 ==========  =======  ==========  ===========================  ======================  =========================  =======================
 lulc-class  pool     decay-rate  yearly_sequestration_per_ha  low-impact-disturbance  medium-impact-disturbance  high-impact-disturbance
 ==========  =======  ==========  ===========================  ======================  =========================  =======================
 <lulc1>     biomass  <float>     <float>                      <float>                 <float>                    <float>
 <lulc1>     soil     <float>     <float>                      <float>                 <float>                    <float>
 <lulc2>     biomass  <float>     <float>                      <float>                 <float>                    <float>
 <lulc2>     soil     <float>     <float>                      <float>                 <float>                    <float>
 ...         ...      ...         ...                          ...                     ...                        ...
 ==========  =======  ==========  ===========================  ======================  =========================  =======================


******Economic Inputs*******

**Discount Rate of Carbon**: A percent value reflecting the preference for immediate benefits over future benefits. If the rate is set equal to zero percent then (future prices?) values are not discounted (for present day/NPV?).  Units are in MtCO2e(?)

****Price Options****

**Use Carbon Price Schedule Table**: If this checkbox is selected, the price schedule table (Carbon Price Table?) will be used for valuation. If left unselected, the model will use the base year carbon value and an inflation rate.

**Carbon Price Schedule Table (CSV)**: A table of values containing the price per megatonne of carbon-dioxide equivalent (Price/MtCO2e).  The table should include the base year, the analysis year, and all years inbetween.

 =====  =======
 Year   Price
 =====  =======
 <int>  <float>
 ...    ...
 =====  =======

**Carbon Price during Base Year**: Units are in Price per MtCO2e.  A float value representing the estimated social cost of carbon or private market value for a sequestered ton of carbon dioxide (CONFUSING!  cost --> carbon emissions,  market value --> carbon sequestration).

**Yearly Inflation Rate of Carbon Price**: A percent value representing the yearly inflation rate for the price per megatonne of carbon-dioxide equivalent (Price/MtCO2e).




Interpreting Results
====================

Coastal Blue Carbon Model
-------------------------

**Output Folder Structure**

.. code::

  .
  |-- outputs
      |-- stock_at_[year].tif (at snapshots + analysis year)
      |-- sequestration_from_[year]_to_[year].tif (between snapshots) (non-positive values are nodata)
      |-- emissions_from_[year]_to_[year].tif (between snapshots) (non-positive values are nodata)
      |-- net_sequestion_from_[year]_to_[year].tif
      |-- net_present_value_from_[year]_to_[year].tif (between snapshots) ? is there a better price metric?

**Outputs**

1. **Stock Rasters**:

2. **Net Sequestration Rasters**:

3. **Net Present Value Rasters**:




Example Use-Case
================



References
==========

